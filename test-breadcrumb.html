<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Breadcrumb Component Test</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 2rem;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        margin-bottom: 2rem;
        text-align: center;
      }

      h2 {
        color: #555;
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #e0e0e0;
      }

      h3 {
        color: #666;
        margin-top: 1.5rem;
        margin-bottom: 0.5rem;
      }

      .test-section {
        margin-bottom: 2rem;
        padding: 1.5rem;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        background: #fafafa;
      }

      .breadcrumb-demo {
        margin: 1rem 0;
        padding: 1rem;
        background: white;
        border-radius: 4px;
        border: 1px solid #ddd;
      }

      .controls {
        margin: 1rem 0;
        padding: 1rem;
        background: #f0f0f0;
        border-radius: 4px;
      }

      .controls label {
        display: inline-block;
        margin-right: 1rem;
        font-weight: 500;
      }

      .controls select,
      .controls input {
        margin-right: 1rem;
        padding: 0.25rem 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      .controls button {
        padding: 0.5rem 1rem;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 0.5rem;
      }

      .controls button:hover {
        background: #0056b3;
      }

      .event-log {
        margin-top: 1rem;
        padding: 1rem;
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        max-height: 200px;
        overflow-y: auto;
        font-family: monospace;
        font-size: 0.875rem;
      }

      .event-log h4 {
        margin-top: 0;
        margin-bottom: 0.5rem;
        color: #495057;
      }

      .event-entry {
        margin-bottom: 0.25rem;
        padding: 0.25rem;
        background: white;
        border-radius: 2px;
        border-left: 3px solid #007bff;
      }

      .event-entry.navigate {
        border-left-color: #28a745;
      }

      .event-entry.focus {
        border-left-color: #ffc107;
      }

      .event-entry.blur {
        border-left-color: #dc3545;
      }

      .code-example {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        padding: 1rem;
        margin: 1rem 0;
        font-family: monospace;
        font-size: 0.875rem;
        overflow-x: auto;
      }

      .accessibility-info {
        background: #e7f3ff;
        border: 1px solid #b3d9ff;
        border-radius: 4px;
        padding: 1rem;
        margin: 1rem 0;
      }

      .accessibility-info h4 {
        margin-top: 0;
        color: #0066cc;
      }

      .keyboard-shortcuts {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 4px;
        padding: 1rem;
        margin: 1rem 0;
      }

      .keyboard-shortcuts h4 {
        margin-top: 0;
        color: #856404;
      }

      .keyboard-shortcuts kbd {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 3px;
        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
        color: #495057;
        display: inline-block;
        font-size: 0.875rem;
        font-weight: 700;
        line-height: 1;
        padding: 0.25rem 0.4rem;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üçû Breadcrumb Component Test</h1>

      <div class="accessibility-info">
        <h4>‚ôø Accessibility Features</h4>
        <ul>
          <li>WCAG 2.1 AA compliant with proper ARIA attributes</li>
          <li>Keyboard navigation support (Tab to focus, Enter to activate)</li>
          <li>Screen reader announcements for navigation</li>
          <li>High contrast mode support</li>
          <li>Semantic HTML with proper roles and landmarks</li>
        </ul>
      </div>

      <div class="keyboard-shortcuts">
        <h4>‚å®Ô∏è Keyboard Navigation</h4>
        <p><kbd>Tab</kbd> - Focus the breadcrumb component</p>
        <p><kbd>Tab</kbd> - Navigate between breadcrumb items</p>
        <p><kbd>Enter</kbd> - Activate a breadcrumb link</p>
        <p><kbd>Shift + Tab</kbd> - Navigate backwards</p>
      </div>

      <!-- Basic Examples -->
      <div class="test-section">
        <h2>Basic Examples</h2>

        <h3>Default Breadcrumb</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb
            id="basic-breadcrumb"
            aria-label="Basic breadcrumb navigation"
          >
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Electronics", "href": "/products/electronics" },
                { "label": "Smartphones", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Minimal Variant</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb
            variant="minimal"
            aria-label="Minimal breadcrumb navigation"
          >
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Compact Variant</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb
            variant="compact"
            aria-label="Compact breadcrumb navigation"
          >
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Size Variations -->
      <div class="test-section">
        <h2>Size Variations</h2>

        <h3>Small Size</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb size="small" aria-label="Small breadcrumb navigation">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Medium Size (Default)</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb
            size="medium"
            aria-label="Medium breadcrumb navigation"
          >
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Large Size</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb size="large" aria-label="Large breadcrumb navigation">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Custom Separators -->
      <div class="test-section">
        <h2>Custom Separators</h2>

        <h3>Arrow Separator (>)</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb separator=">" aria-label="Arrow separator breadcrumb">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Bullet Separator (‚Ä¢)</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb separator="‚Ä¢" aria-label="Bullet separator breadcrumb">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Pipe Separator (|)</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb separator="|" aria-label="Pipe separator breadcrumb">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Item States -->
      <div class="test-section">
        <h2>Item States</h2>

        <h3>With Disabled Item</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb aria-label="Breadcrumb with disabled item">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Disabled", "href": "/disabled", "disabled": true },
                { "label": "Current", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Text Only Items (No Links)</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb aria-label="Text-only breadcrumb">
            <script type="application/json">
              [
                { "label": "Home" },
                { "label": "Products" },
                { "label": "Current", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <h3>Mixed States</h3>
        <div class="breadcrumb-demo">
          <ds-breadcrumb aria-label="Mixed states breadcrumb">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Disabled", "disabled": true },
                { "label": "Products", "href": "/products" },
                { "label": "Current", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Interactive Controls -->
      <div class="test-section">
        <h2>Interactive Controls</h2>

        <div class="controls">
          <label for="variant-select">Variant:</label>
          <select id="variant-select">
            <option value="default">Default</option>
            <option value="minimal">Minimal</option>
            <option value="compact">Compact</option>
          </select>

          <label for="size-select">Size:</label>
          <select id="size-select">
            <option value="small">Small</option>
            <option value="medium" selected>Medium</option>
            <option value="large">Large</option>
          </select>

          <label for="separator-input">Separator:</label>
          <input type="text" id="separator-input" value="/" maxlength="1" />

          <button onclick="updateInteractiveBreadcrumb()">Update</button>
          <button onclick="addRandomItem()">Add Random Item</button>
          <button onclick="clearBreadcrumb()">Clear</button>
        </div>

        <div class="breadcrumb-demo">
          <ds-breadcrumb
            id="interactive-breadcrumb"
            aria-label="Interactive breadcrumb"
          >
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>

        <div class="event-log">
          <h4>Event Log</h4>
          <div id="event-log-content">
            <div class="event-entry">Ready to log events...</div>
          </div>
        </div>
      </div>

      <!-- Long Breadcrumb -->
      <div class="test-section">
        <h2>Long Breadcrumb (Wrapping Test)</h2>
        <div class="breadcrumb-demo">
          <ds-breadcrumb aria-label="Long breadcrumb navigation">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Electronics", "href": "/products/electronics" },
                {
                  "label": "Computers",
                  "href": "/products/electronics/computers"
                },
                {
                  "label": "Laptops",
                  "href": "/products/electronics/computers/laptops"
                },
                {
                  "label": "Gaming Laptops",
                  "href": "/products/electronics/computers/laptops/gaming"
                },
                { "label": "High-End Gaming Laptops", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Disabled State -->
      <div class="test-section">
        <h2>Disabled State</h2>
        <div class="breadcrumb-demo">
          <ds-breadcrumb disabled aria-label="Disabled breadcrumb">
            <script type="application/json">
              [
                { "label": "Home", "href": "/" },
                { "label": "Products", "href": "/products" },
                { "label": "Category", "current": true }
              ]
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Empty State -->
      <div class="test-section">
        <h2>Empty State</h2>
        <div class="breadcrumb-demo">
          <ds-breadcrumb aria-label="Empty breadcrumb">
            <script type="application/json">
              []
            </script>
          </ds-breadcrumb>
        </div>
      </div>

      <!-- Code Examples -->
      <div class="test-section">
        <h2>Code Examples</h2>

        <h3>Basic Usage</h3>
        <div class="code-example">
          &lt;ds-breadcrumb aria-label="Navigation breadcrumb"&gt; &lt;script
          type="application/json"&gt; [ { "label": "Home", "href": "/" }, {
          "label": "Products", "href": "/products" }, { "label": "Category",
          "current": true } ] &lt;/script&gt; &lt;/ds-breadcrumb&gt;
        </div>

        <h3>With Custom Properties</h3>
        <div class="code-example">
          &lt;ds-breadcrumb variant="minimal" size="large" separator="&gt;"
          aria-label="Custom breadcrumb"&gt; &lt;script
          type="application/json"&gt; [ { "label": "Home", "href": "/" }, {
          "label": "Products", "href": "/products" }, { "label": "Category",
          "current": true } ] &lt;/script&gt; &lt;/ds-breadcrumb&gt;
        </div>

        <h3>JavaScript API</h3>
        <div class="code-example">
          // Get breadcrumb element const breadcrumb =
          document.querySelector('ds-breadcrumb'); // Add event listener
          breadcrumb.addEventListener('ds-breadcrumb-navigate', (event) => {
          console.log('Navigation:', event.detail.data); }); // Programmatic
          control breadcrumb.setItems([ { label: 'Home', href: '/' }, { label:
          'New Item', href: '/new' }, { label: 'Current', current: true } ]); //
          Get current item const currentItem = breadcrumb.getCurrentItem();
          console.log('Current item:', currentItem);
        </div>
      </div>
    </div>

    <script type="module">
      import { Breadcrumb } from './dist/design-system.esm.js';

      // Initialize breadcrumbs from JSON scripts
      function initializeBreadcrumbs() {
        const breadcrumbs = document.querySelectorAll('ds-breadcrumb');
        breadcrumbs.forEach(breadcrumb => {
          const script = breadcrumb.querySelector(
            'script[type="application/json"]'
          );
          if (script) {
            try {
              const items = JSON.parse(script.textContent);
              breadcrumb.items = items;
            } catch (e) {
              console.error('Error parsing breadcrumb items:', e);
            }
          }
        });
      }

      // Event logging
      function logEvent(event) {
        const logContent = document.getElementById('event-log-content');
        const eventEntry = document.createElement('div');
        eventEntry.className = `event-entry ${event.type.replace(
          'ds-breadcrumb-',
          ''
        )}`;

        const timestamp = new Date().toLocaleTimeString();
        const eventData = event.detail
          ? JSON.stringify(event.detail.data, null, 2)
          : 'No data';

        eventEntry.innerHTML = `
                <strong>${event.type}</strong> at ${timestamp}<br>
                <small>${eventData}</small>
            `;

        logContent.insertBefore(eventEntry, logContent.firstChild);

        // Keep only last 10 entries
        while (logContent.children.length > 10) {
          logContent.removeChild(logContent.lastChild);
        }
      }

      // Add event listeners to all breadcrumbs
      function addEventListeners() {
        const breadcrumbs = document.querySelectorAll('ds-breadcrumb');
        breadcrumbs.forEach(breadcrumb => {
          breadcrumb.addEventListener('ds-breadcrumb-render', logEvent);
          breadcrumb.addEventListener('ds-breadcrumb-navigate', logEvent);
          breadcrumb.addEventListener('ds-breadcrumb-focus', logEvent);
          breadcrumb.addEventListener('ds-breadcrumb-blur', logEvent);
        });
      }

      // Interactive controls
      window.updateInteractiveBreadcrumb = function () {
        const breadcrumb = document.getElementById('interactive-breadcrumb');
        const variant = document.getElementById('variant-select').value;
        const size = document.getElementById('size-select').value;
        const separator = document.getElementById('separator-input').value;

        breadcrumb.variant = variant;
        breadcrumb.size = size;
        breadcrumb.separator = separator;
      };

      window.addRandomItem = function () {
        const breadcrumb = document.getElementById('interactive-breadcrumb');
        const randomItems = [
          { label: 'Random Page', href: '/random' },
          { label: 'Another Page', href: '/another' },
          { label: 'Test Page', href: '/test' },
          { label: 'Demo Page', href: '/demo' },
        ];

        const randomItem =
          randomItems[Math.floor(Math.random() * randomItems.length)];
        breadcrumb.addItem(randomItem);
      };

      window.clearBreadcrumb = function () {
        const breadcrumb = document.getElementById('interactive-breadcrumb');
        breadcrumb.setItems([]);
      };

      // Initialize when DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        initializeBreadcrumbs();
        addEventListeners();
      });
    </script>
  </body>
</html>
