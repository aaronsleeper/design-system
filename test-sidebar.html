<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar Component Test</title>
    <link rel="stylesheet" href="./dist/assets/output-RDp_UDax.css" />
    <style>
      body {
        font-family: var(--font-family-sans);
        margin: 0;
        padding: 20px;
        background-color: var(--color-background);
        color: var(--color-text-primary);
      }

      .test-container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .test-section {
        margin-bottom: 40px;
        padding: 20px;
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-md);
        background-color: var(--color-background-elevated);
      }

      .test-section h2 {
        margin-top: 0;
        color: var(--color-text-primary);
      }

      .test-section h3 {
        color: var(--color-text-secondary);
        margin-bottom: 16px;
      }

      .demo-layout {
        display: flex;
        height: 400px;
        gap: 16px;
        margin-bottom: 20px;
      }

      .demo-layout-vertical {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .demo-layout-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }

      .content-area {
        flex: 1;
        padding: 16px;
        background-color: var(--color-background);
        border-radius: var(--border-radius-md);
        border: 1px solid var(--color-border);
      }

      .controls {
        display: flex;
        gap: 8px;
        margin-bottom: 16px;
        flex-wrap: wrap;
      }

      .control-button {
        padding: 8px 16px;
        background-color: var(--color-primary);
        color: var(--color-text-inverse);
        border: none;
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        font-size: var(--font-size-2);
        transition: background-color 0.2s ease-in-out;
      }

      .control-button:hover {
        background-color: var(--color-primary-dark);
      }

      .control-button.secondary {
        background-color: var(--color-secondary);
      }

      .control-button.secondary:hover {
        background-color: var(--color-secondary-dark);
      }

      .control-button.success {
        background-color: var(--color-success);
      }

      .control-button.success:hover {
        background-color: var(--color-success-dark);
      }

      .control-button.warning {
        background-color: var(--color-warning);
      }

      .control-button.warning:hover {
        background-color: var(--color-warning-dark);
      }

      .event-log {
        background-color: var(--color-gray-100);
        padding: 12px;
        border-radius: var(--border-radius-sm);
        font-family: var(--font-family-mono);
        font-size: var(--font-size-2);
        max-height: 200px;
        overflow-y: auto;
        border: 1px solid var(--color-border);
      }

      .event-log p {
        margin: 0 0 4px 0;
        color: var(--color-text-secondary);
      }

      .event-log .event-entry {
        color: var(--color-text-primary);
        background-color: var(--color-background-elevated);
        padding: 4px 8px;
        border-radius: 4px;
        margin-bottom: 4px;
      }

      .navigation-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .navigation-list li {
        margin-bottom: 8px;
      }

      .navigation-list a {
        text-decoration: none;
        color: var(--color-text-primary);
        padding: 8px 12px;
        display: block;
        border-radius: var(--border-radius-sm);
        transition: background-color 0.2s ease-in-out;
      }

      .navigation-list a:hover {
        background-color: var(--color-gray-100);
      }

      .navigation-section {
        margin-bottom: 16px;
      }

      .navigation-section h4 {
        margin: 0 0 8px 0;
        font-size: var(--font-size-2);
        color: var(--color-text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .user-profile {
        border-top: 1px solid var(--color-border);
        padding-top: 12px;
      }

      .user-profile-content {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .user-avatar {
        width: 32px;
        height: 32px;
        background-color: var(--color-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--color-text-inverse);
        font-weight: var(--font-weight-bold);
      }

      .user-info {
        flex: 1;
      }

      .user-name {
        font-size: var(--font-size-2);
        font-weight: var(--font-weight-medium);
        color: var(--color-text-primary);
      }

      .user-email {
        font-size: var(--font-size-1);
        color: var(--color-text-secondary);
      }

      .status-indicator {
        display: inline-block;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 8px;
      }

      .status-indicator.online {
        background-color: var(--color-success);
      }

      .status-indicator.offline {
        background-color: var(--color-gray-400);
      }

      .status-indicator.away {
        background-color: var(--color-warning);
      }

      .status-indicator.busy {
        background-color: var(--color-error);
      }

      @media (max-width: 768px) {
        .demo-layout {
          flex-direction: column;
          height: auto;
        }

        .demo-layout-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <h1>Sidebar Component Test</h1>
      <p>
        This page demonstrates the Sidebar component with various configurations
        and interactive features.
      </p>

      <!-- Basic Sidebar -->
      <div class="test-section">
        <h2>Basic Sidebar</h2>
        <p>A simple sidebar with navigation content.</p>
        <div class="demo-layout">
          <ds-sidebar size="medium" aria-label="Basic navigation">
            <nav>
              <ul class="navigation-list">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Settings</a></li>
              </ul>
            </nav>
            <div slot="footer">
              <p
                style="
                  margin: 0;
                  font-size: var(--font-size-2);
                  color: var(--color-text-secondary);
                "
              >
                Version 1.0.0
              </p>
            </div>
          </ds-sidebar>
          <div class="content-area">
            <h3>Main Content</h3>
            <p>
              This is the main content area. The sidebar provides navigation to
              different sections of the application.
            </p>
          </div>
        </div>
      </div>

      <!-- Collapsible Sidebar -->
      <div class="test-section">
        <h2>Collapsible Sidebar</h2>
        <p>
          A sidebar that can be collapsed and expanded using the toggle button.
        </p>
        <div class="controls">
          <button
            class="control-button"
            onclick="toggleSidebar('collapsible-sidebar')"
          >
            Toggle
          </button>
          <button
            class="control-button secondary"
            onclick="collapseSidebar('collapsible-sidebar')"
          >
            Collapse
          </button>
          <button
            class="control-button success"
            onclick="expandSidebar('collapsible-sidebar')"
          >
            Expand
          </button>
        </div>
        <div class="demo-layout">
          <ds-sidebar
            id="collapsible-sidebar"
            collapsible
            size="medium"
            aria-label="Collapsible navigation"
          >
            <span slot="title">Navigation</span>
            <nav>
              <ul class="navigation-list">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Settings</a></li>
              </ul>
            </nav>
            <div slot="footer">
              <p
                style="
                  margin: 0;
                  font-size: var(--font-size-2);
                  color: var(--color-text-secondary);
                "
              >
                Version 1.0.0
              </p>
            </div>
          </ds-sidebar>
          <div class="content-area">
            <h3>Interactive Sidebar</h3>
            <p>
              This sidebar can be collapsed and expanded. Try the buttons above
              or use the toggle button in the sidebar header.
            </p>
            <p><strong>Keyboard shortcuts:</strong></p>
            <ul>
              <li>
                Press <kbd>Escape</kbd> when the sidebar is focused to collapse
                it
              </li>
              <li>Use <kbd>Tab</kbd> to navigate to the toggle button</li>
              <li>
                Press <kbd>Enter</kbd> or <kbd>Space</kbd> on the toggle button
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Size Variants -->
      <div class="test-section">
        <h2>Size Variants</h2>
        <p>Different sidebar sizes: small, medium, large, and xlarge.</p>
        <div class="demo-layout-grid">
          <div>
            <h3>Small</h3>
            <ds-sidebar size="small" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
          <div>
            <h3>Medium</h3>
            <ds-sidebar size="medium" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
          <div>
            <h3>Large</h3>
            <ds-sidebar size="large" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
          <div>
            <h3>XLarge</h3>
            <ds-sidebar size="xlarge" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
        </div>
      </div>

      <!-- Variant Styles -->
      <div class="test-section">
        <h2>Variant Styles</h2>
        <p>Different sidebar variants: default, collapsed, and expanded.</p>
        <div class="demo-layout-grid">
          <div>
            <h3>Default</h3>
            <ds-sidebar variant="default" size="medium" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
          <div>
            <h3>Collapsed</h3>
            <ds-sidebar variant="collapsed" size="medium" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
          <div>
            <h3>Expanded</h3>
            <ds-sidebar variant="expanded" size="medium" style="height: 300px">
              <nav>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Projects</a></li>
                </ul>
              </nav>
            </ds-sidebar>
          </div>
        </div>
      </div>

      <!-- Right Position -->
      <div class="test-section">
        <h2>Right Position</h2>
        <p>A sidebar positioned on the right side of the content.</p>
        <div class="demo-layout">
          <div class="content-area">
            <h3>Main Content</h3>
            <p>
              This content is on the left side of the right-positioned sidebar.
            </p>
          </div>
          <ds-sidebar
            position="right"
            size="medium"
            aria-label="Right navigation"
          >
            <nav>
              <ul class="navigation-list">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Settings</a></li>
              </ul>
            </nav>
            <div slot="footer">
              <p
                style="
                  margin: 0;
                  font-size: var(--font-size-2);
                  color: var(--color-text-secondary);
                "
              >
                Version 1.0.0
              </p>
            </div>
          </ds-sidebar>
        </div>
      </div>

      <!-- Complex Content -->
      <div class="test-section">
        <h2>Complex Content</h2>
        <p>
          A sidebar with complex content including multiple navigation sections
          and user profile.
        </p>
        <div class="demo-layout">
          <ds-sidebar collapsible size="large" aria-label="Complex navigation">
            <span slot="title">Application</span>
            <nav>
              <div class="navigation-section">
                <h4>Main</h4>
                <ul class="navigation-list">
                  <li><a href="#">Dashboard</a></li>
                  <li><a href="#">Analytics</a></li>
                </ul>
              </div>

              <div class="navigation-section">
                <h4>Projects</h4>
                <ul class="navigation-list">
                  <li><a href="#">All Projects</a></li>
                  <li><a href="#">Active</a></li>
                  <li><a href="#">Archived</a></li>
                </ul>
              </div>

              <div class="navigation-section">
                <h4>Team</h4>
                <ul class="navigation-list">
                  <li><a href="#">Members</a></li>
                  <li><a href="#">Roles</a></li>
                </ul>
              </div>
            </nav>
            <div slot="footer">
              <div class="user-profile">
                <div class="user-profile-content">
                  <div class="user-avatar">JD</div>
                  <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-email">john@example.com</div>
                  </div>
                  <span class="status-indicator online"></span>
                </div>
                <p
                  style="
                    margin: 0;
                    font-size: var(--font-size-1);
                    color: var(--color-text-secondary);
                  "
                >
                  Version 1.0.0
                </p>
              </div>
            </div>
          </ds-sidebar>
          <div class="content-area">
            <h3>Complex Sidebar</h3>
            <p>
              This sidebar demonstrates complex content with multiple navigation
              sections, user profile, and organized structure.
            </p>
          </div>
        </div>
      </div>

      <!-- Disabled State -->
      <div class="test-section">
        <h2>Disabled State</h2>
        <p>A disabled sidebar that cannot be interacted with.</p>
        <div class="demo-layout">
          <ds-sidebar
            collapsible
            disabled
            size="medium"
            aria-label="Disabled navigation"
          >
            <span slot="title">Navigation</span>
            <nav>
              <ul class="navigation-list">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Settings</a></li>
              </ul>
            </nav>
            <div slot="footer">
              <p
                style="
                  margin: 0;
                  font-size: var(--font-size-2);
                  color: var(--color-text-secondary);
                "
              >
                Version 1.0.0
              </p>
            </div>
          </ds-sidebar>
          <div class="content-area">
            <h3>Disabled Sidebar</h3>
            <p>
              This sidebar is disabled and cannot be interacted with. The toggle
              button and keyboard navigation are disabled.
            </p>
          </div>
        </div>
      </div>

      <!-- Event Logging -->
      <div class="test-section">
        <h2>Event Logging</h2>
        <p>
          This sidebar logs all events it dispatches. Interact with the sidebar
          to see events in the log below.
        </p>
        <div class="controls">
          <button class="control-button warning" onclick="clearEventLog()">
            Clear Log
          </button>
        </div>
        <div class="demo-layout">
          <ds-sidebar
            id="event-sidebar"
            collapsible
            size="medium"
            aria-label="Event logging navigation"
          >
            <span slot="title">Navigation</span>
            <nav>
              <ul class="navigation-list">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Team</a></li>
                <li><a href="#">Settings</a></li>
              </ul>
            </nav>
          </ds-sidebar>
          <div class="content-area">
            <h3>Event Log</h3>
            <div id="event-log" class="event-log">
              <p>Events will appear here...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module">
      import { Sidebar } from './dist/design-system.esm.js';

      // Register the component
      customElements.define('ds-sidebar', Sidebar);

      // Event logging functionality
      const eventSidebar = document.getElementById('event-sidebar');
      const eventLog = document.getElementById('event-log');

      function logEvent(event) {
        const timestamp = new Date().toLocaleTimeString();
        const eventInfo = `[${timestamp}] ${event.type}: ${JSON.stringify(
          event.detail.data,
          null,
          2
        )}`;
        const logEntry = document.createElement('div');
        logEntry.className = 'event-entry';
        logEntry.textContent = eventInfo;
        eventLog.appendChild(logEntry);
        eventLog.scrollTop = eventLog.scrollHeight;
      }

      function clearEventLog() {
        eventLog.innerHTML = '<p>Events will appear here...</p>';
      }

      // Add event listeners
      eventSidebar.addEventListener('ds-sidebar-render', logEvent);
      eventSidebar.addEventListener('ds-sidebar-toggle', logEvent);
      eventSidebar.addEventListener('ds-sidebar-focus', logEvent);
      eventSidebar.addEventListener('ds-sidebar-blur', logEvent);

      // Control functions
      window.toggleSidebar = function (id) {
        const sidebar = document.getElementById(id);
        if (sidebar && sidebar.toggle) {
          sidebar.toggle();
        }
      };

      window.collapseSidebar = function (id) {
        const sidebar = document.getElementById(id);
        if (sidebar && sidebar.collapse) {
          sidebar.collapse();
        }
      };

      window.expandSidebar = function (id) {
        const sidebar = document.getElementById(id);
        if (sidebar && sidebar.expand) {
          sidebar.expand();
        }
      };

      window.clearEventLog = clearEventLog;
    </script>
  </body>
</html>
